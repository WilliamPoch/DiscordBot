/*
 bitdepth Copyright (c) 2017-2018 Rafael da Silva Rocha.
*/
var l="function"==typeof Object.defineProperties?Object.defineProperty:function(a,f,d){a!=Array.prototype&&a!=Object.prototype&&(a[f]=d.value)},n="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function p(a,f){if(f){var d=n;a=a.split(".");for(var e=0;e<a.length-1;e++){var h=a[e];h in d||(d[h]={});d=d[h]}a=a[a.length-1];e=d[a];f=f(e);f!=e&&null!=f&&l(d,a,{configurable:!0,writable:!0,value:f})}}
p("Object.is",function(a){return a?a:function(a,d){return a===d?0!==a||1/a===1/d:a!==a&&d!==d}});p("Array.prototype.includes",function(a){return a?a:function(a,d){var e=this;e instanceof String&&(e=String(e));var f=e.length;d=d||0;for(0>d&&(d=Math.max(d+f,0));d<f;d++){var k=e[d];if(k===a||Object.is(k,a))return!0}return!1}});
window.bitDepth=function(){function a(b,c){return b=0<b?parseInt(b/c.c*c.a,10):parseInt(b/c.f*c.b,10)}function f(b,c){return parseInt(0<b?b*c.a:b*c.b,10)}function d(b,c){return 0<b?b/c.c:b/c.f}function e(b){m[0]=b;return m[0]}function h(b,c){function g(b){return b}b!=c&&(["32f","64"].includes(b)?["32f","64"].includes(c)?g=e:g=f:g=["32f","64"].includes(c)?d:a);return g}function k(b){if("32f"!=b&&"64"!=b&&("8">parseInt(b,10)||"53"<parseInt(b,10)))throw Error("Invalid bit depth.");}var m=new Float32Array(1);
return function(b,c,a,d){k(c);k(a);var e=h(c,a),f={f:Math.pow(2,parseInt(c,10))/2,b:Math.pow(2,parseInt(a,10))/2,c:Math.pow(2,parseInt(c,10))/2-1,a:Math.pow(2,parseInt(a,10))/2-1},g=b.length;if("8"==c)for(c=0;c<g;c++)d[c]=b[c]-=128;for(c=0;c<g;c++)d[c]=e(b[c],f);if("8"==a)for(b=0;b<g;b++)d[b]=d[b]+=128}}();
